{% extends "layouts/base.html" %}
{% load static i18n %}
{% block title %}
    {{ collection.name }} Candidate URLs
{% endblock title %}
{% block stylesheets %}
    {{ block.super }}
    <link rel="stylesheet"
          href="//cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css" />
    <link href="//cdn.datatables.net/v/bs5/dt-1.13.4/af-2.5.3/b-2.3.6/b-colvis-2.3.6/fh-3.3.2/kt-2.9.0/r-2.4.1/rg-1.3.1/sb-1.4.2/sp-2.1.2/datatables.min.css"
          rel="stylesheet" />
    <link rel="stylesheet" href="{% static 'css/candidate_url_list.css' %}" />
{% endblock stylesheets %}
{% block javascripts %}
    {{ block.super }}
    <script>var collection_id = "{{ collection.id }}";</script>
    <script src="//cdn.datatables.net/v/bs5/dt-1.13.4/af-2.5.3/b-2.3.6/b-colvis-2.3.6/fh-3.3.2/kt-2.9.0/r-2.4.1/rg-1.3.1/sb-1.4.2/sp-2.1.2/datatables.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.blockUI/2.70/jquery.blockUI.min.js"></script>
    <script src="{% static 'js/candidate_url_list.js' %}"></script>
{% endblock javascripts %}
{% block content %}
    {% csrf_token %}
    <h3>
        Candidate URLs for <a href="{% url 'sde_collections:detail' collection.pk %}"><strong>{{ collection.name }}</strong></a>
        <br>
        <small class="muted">Base URL: <a href="{{ collection.url }}" target="_blank">{{ collection.url }}</a></small>
    </h3>
    <table class="table" id="candidate_urls_table">
        <thead>
            <tr>
                <th scope="col" class="text-center col-1">
                    <strong>URL</strong>
                </th>
                <th scope="col" class="text-center col-1">
                    <strong>Exclude</strong>
                </th>
                <th scope="col" class="text-center col-1">
                    <strong>Scraped Title</strong>
                </th>
                <th scope="col" class="text-center col-1">
                    <strong>New Title</strong>
                </th>
                <th scope="col" class="text-center col-1">
                    <strong>Visited</strong>
                </th>
                <th scope="col" class="text-center col-1">
                    <strong>ID</strong>
                </th>
            </tr>
        </thead>
    </table>
    <h3>Exclude Patterns</h3>
    <table class="table" id="exclude_patterns_table">
        <thead>
            <tr>
                <th scope="col" class="text-center col-1">
                    <strong>Exclude Pattern</strong>
                </th>
                <th scope="col" class="text-center col-1">
                    <strong>Pattern Type</strong>
                </th>
                <th scope="col" class="text-center col-1">
                    <strong>Actions</strong>
                </th>
                <th scope="col" class="text-center col-1">
                    <strong>ID</strong>
                </th>
            </tr>
        </thead>
    </table>
    <h3>Title Patterns</h3>
    <table class="table" id="title_patterns_table">
        <thead>
            <tr>
                <th scope="col" class="text-center col-1">
                    <strong>Match Pattern</strong>
                </th>
                <th scope="col" class="text-center col-1">
                    <strong>Title Pattern</strong>
                </th>
                <th scope="col" class="text-center col-1">
                    <strong>Pattern Type</strong>
                </th>
                <th scope="col" class="text-center col-1">
                    <strong>Actions</strong>
                </th>
                <th scope="col" class="text-center col-1">
                    <strong>ID</strong>
                </th>
            </tr>
        </thead>
    </table>
    <ul class="custom-menu list-group">
        <li data-action="exclude-pattern" class="list-group-item">Create Exclude Pattern</li>
        <li data-action="title-pattern" class="list-group-item">Create Title Pattern</li>
    </ul>
{% endblock content %}
