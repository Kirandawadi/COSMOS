# Generated by Django 4.2.9 on 2024-05-14 20:00

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ("sde_collections", "0045_alter_collection_workflow_status"),
    ]

    operations = [
        migrations.CreateModel(
            name="WorkflowStatusHistory",
            fields=[
                ("id", models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name="ID")),
                (
                    "old_status",
                    models.IntegerField(
                        choices=[
                            (1, "Research in Progress"),
                            (2, "Ready for Engineering"),
                            (3, "Engineering in Progress"),
                            (4, "Ready for Curation"),
                            (5, "Curation in Progress"),
                            (6, "Curated"),
                            (7, "Quality Fixed"),
                            (8, "Secret Deployment Started"),
                            (9, "Secret Deployment Failed"),
                            (10, "Ready for LRM Quality Check"),
                            (11, "Ready for Quality Check"),
                            (12, "Quality Check Failed"),
                            (13, "Ready for Public Production"),
                            (14, "Perfect and on Production"),
                            (15, "Low Priority Problems on Production"),
                            (16, "High Priority Problems on Production, only for old sources"),
                            (17, "Code Merge Pending"),
                        ]
                    ),
                ),
                (
                    "new_status",
                    models.IntegerField(
                        choices=[
                            (1, "Research in Progress"),
                            (2, "Ready for Engineering"),
                            (3, "Engineering in Progress"),
                            (4, "Ready for Curation"),
                            (5, "Curation in Progress"),
                            (6, "Curated"),
                            (7, "Quality Fixed"),
                            (8, "Secret Deployment Started"),
                            (9, "Secret Deployment Failed"),
                            (10, "Ready for LRM Quality Check"),
                            (11, "Ready for Quality Check"),
                            (12, "Quality Check Failed"),
                            (13, "Ready for Public Production"),
                            (14, "Perfect and on Production"),
                            (15, "Low Priority Problems on Production"),
                            (16, "High Priority Problems on Production, only for old sources"),
                            (17, "Code Merge Pending"),
                        ]
                    ),
                ),
                ("changed_at", models.DateTimeField(auto_now_add=True)),
                (
                    "changed_by",
                    models.ForeignKey(
                        blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL
                    ),
                ),
                (
                    "collection",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="workflow_status_history",
                        to="sde_collections.collection",
                    ),
                ),
            ],
            options={
                "verbose_name": "Workflow Status History",
                "verbose_name_plural": "Workflow Status Histories",
            },
        ),
    ]
