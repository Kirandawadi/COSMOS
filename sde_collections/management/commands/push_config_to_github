from django.core.management.base import BaseCommand


class Command(BaseCommand):
    help = (
        "Push config to github. Takes comma-separated config_folder list as argument."
    )

    def add_arguments(self, parser):
        parser.add_argument("config_folders", nargs="*", type=str, default=[])

    def handle(self, *args, **options):
        config_folders = options["config_folders"]
        for config_folder in config_folders:
            print("jere")
            # collection = Collection.objects.get(config_folder=config_folder)
            # collection.push_configs_to_github()

        self.stdout.write(
            self.style.SUCCESS(
                'Successfully pushed the following collection to github from "%s"'
                % config_folders
            )
        )
